'Critical_PG.Write_Priority' = 4

If ('Spa_Supply_Temp' > 'SpaHWSMax_Sp') Then
    'HighSpaLimit' = On
End If
If ('Spa_Supply_Temp' < 'SpaHWS_EffSp') And ('HighSpaLimit' OnFor 5M) Then
    'HighSpaLimit' = Off
End If

If ('HighSpaLimit' Or 'Hi_Temp_Limit') Then // what if the boiler loop is cooler than the ewt of the tub?
  'HW_FeedValve' = 0
  'HX_Pump_Enable' = Off
 Else
  Relinquish 'HW_FeedValve'
  Relinquish 'HX_Pump_Enable'
End If