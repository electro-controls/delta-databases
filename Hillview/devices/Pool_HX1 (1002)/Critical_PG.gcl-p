'Critical_PG.Write_Priority' = 4

If 'Spa_Supply_Temp' > 'PoolHWSMax_Sp' Then
    'HighPoolLimit' = On
End If
If ('HighPoolLimit' OnFor 5M) And ('Spa_Supply_Temp' < 'PoolHWS_EffSp') Then
    'HighPoolLimit' = Off // todo send alarm
End If

If (Not 'PumpStatus') Or 'HighPoolLimit' Then
  'HW_FeedValve' = 0
 Else
  Relinquish 'HW_FeedValve'
End If